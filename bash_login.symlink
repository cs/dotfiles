#==============================================================================
# Configuration for login shells ...
#==============================================================================

#------------------------------------------------------------------------------
# History
#------------------------------------------------------------------------------
unset HISTFILE

#------------------------------------------------------------------------------
# Private Executables
#------------------------------------------------------------------------------
if [ -d "$HOME/.local/bin" ]; then
  export PATH="$HOME/.local/bin:$PATH"
fi

#------------------------------------------------------------------------------
# Ruby
#------------------------------------------------------------------------------
if [ -d "$HOME/.rbenv" ]; then
  export PATH="$HOME/.rbenv/bin:$PATH"
  command -v rbenv > /dev/null && eval "$(rbenv init -)"
fi

#------------------------------------------------------------------------------
# JavaScript
#------------------------------------------------------------------------------
if [ -d "$HOME/.nvm" ]; then
  export NVM_DIR="$HOME/.nvm"
  [ -f "$NVM_DIR/nvm.sh" ] && source "$NVM_DIR/nvm.sh"
  [ -f "$NVM_DIR/bash_completion" ] && source "$NVM_DIR/bash_completion"
  command -v yarn > /dev/null && export PATH="$(yarn global bin):$PATH"
fi

#------------------------------------------------------------------------------
# Editor
#------------------------------------------------------------------------------
if command -v nvim > /dev/null; then
  export EDITOR=nvim
elif command -v vim > /dev/null; then
  export EDITOR=vim
else
  export EDITOR=vi
fi

#------------------------------------------------------------------------------
# Start Window Manager on tty1
#------------------------------------------------------------------------------
if [ "$(tty)" = "/dev/tty1" ]; then
  GDK_BACKEND=wayland exec sway
fi
